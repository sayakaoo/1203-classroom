<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://docs.opencv.org/master/opencv.js" type="text/javascript"></script>
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1542.0.min.js"></script>

  <link rel="icon" href="/favicon.ico" />
  <title>数学授業</title>
</head>

<body>
  <div id="screen">
    <div class="selectBox">
      <div class="select" id="select1">
        <p class="selectText" id="selectText1"></p>
      </div>
      <div class="select" id="select2">
        <p class="selectText" id="selectText2"></p>
      </div>
      <div class="select" id="select3">
        <p class="selectText" id="selectText3"></p>
      </div>
    </div>

    <div class="classroom">

      <img src="img/bgb.png" alt="" id="bgbimg">
      <!--<img src="img/bgc.png" alt="" id="bgcimg">-->
      <div class="cbox"></div>
      <!--<img src="img/bgi.png" alt="" id="bgiimg">-->
      <!--<img src="img/bgs.png" alt="" id="bgsimg">-->
    </div>

    <div class="charabox">
      <div class="itembox"><img src="" alt="" id="item"></div>
      <div class="charaposition" id="charaposition1"><img src="" alt="" id="chara1"></div><!--一人、三人表示-->
      <div class="charaposition" id="charaposition2"><img src="" alt="" id="chara2"></div><!--二人表示-->
      <div class="charaposition" id="charaposition3"><img src="" alt="" id="chara3"></div><!--二人表示-->
      <div class="charaposition" id="charaposition4"><img src="" alt="" id="chara4"></div><!--三人表示-->
      <div class="charaposition" id="charaposition5"><img src="" alt="" id="chara5"></div><!--三人表示-->
    </div>

    <div id="messbox">
      <div id="textbox">
        <p id="text"></p>
      </div>
    </div>
  </div>
  <div id="timer" class="timer">残り時間: 4:00</div>
<button id="startButton" >タイマースタート</button>


  <form id="Q1form" class="formQ1 form">
    <label for="userAnswer1 userAnswer">正方形を3個作るとき、マッチ棒は何本必要でしょうか？:</label><br>
    <input type="text" id="userAnswer1" placeholder="解答を入力してください" required>
    <button type="button" id="start-voice1">🎤 音声入力</button>
    <button id="Q1sbmitbutton">答えを送信</button>
  </form>

  <form id="Q2form" class="formQ2 form">
    <label for="userAnswer2">どのように考えたらいいだろうか？:</label><br>
    <input type="text" id="userAnswer2" placeholder="解答を入力してください" required>
    <button type="button" id="start-voice2">🎤 音声入力</button>
    <button id="Q1sbmitbutton">送信</button>
  </form>

  <form id="Q3form" class="formQ3 form">
    <label for="userAnswer3">どの数を文字で表すとよいだろうか:</label><br>
    <input type="text" id="userAnswer3" placeholder="解答を入力してください" required><br>
    <p>の数を文字:
      <input type="text" id="userVariable" placeholder="例: n" maxlength="1" required>
      を使って表す
    </p>
    <button type="submit" id="Q3submitbutton">送信</button>
  </form>

  <form id="Q4form" class="formQ4 form">
    <label for="userAnswer4">立てた式をおしえてください:</label><br>
    <input type="text" id="userAnswer4" placeholder="解答を入力してください" required>
    <button type="button" id="start-voice4">🎤 音声入力</button>
    <button id="Q4sbmitbutton">送信</button>
    <button id="Q4nonsbmitbutton">式が思い浮かばない</button>
  </form>

  <form id="Q5form" class="formQ5 form">
    <label for="userAnswer5">立てた式をおしえてください:</label><br>
    <input type="text" id="userAnswer5" placeholder="解答を入力してください" required>
    <button type="button" id="start-voice5">🎤 音声入力</button>
    <button id="Q5sbmitbutton">送信</button>
  </form>

  <form id="Q6form" class="formQ6 form">
    <label for="userAnswer5">4+3nは正しい式ですか？:</label><br>
    <button type="button" id="correctButton">正しい</button>
    <button type="button" id="incorrectButton">正しくない</button>
  </form>

  <form id="Q7form" class="formQ7 form">
    <button type="button" id="correctButton7">正しい式が分かった</button>
    <button type="button" id="incorrectButton7">分からない</button>
  </form>

  <form id="Q8form" class="formQ8 form">
    <label for="userAnswer8">変更した式をおしえてください:</label><br>
    <input type="text" id="userAnswer8" placeholder="解答を入力してください" required>
    <button type="button" id="start-voice8">🎤 音声入力</button>
    <button id="Q8sbmitbutton">送信</button>
  </form>

  <form id="Q9form" class="formQ9 form">
    <label for="userAnswer91">4+3(n-1)=</label>
    <input type="text" id="userAnswer91" class="answerInput" placeholder="" required><br><br>
    <label for="userAnswer92">4n-(n-1):</label>
    <input type="text" id="userAnswer92" class="answerInput" placeholder="" required><br><br>
    <p>3n+1</p><br><br>
    <button type="submit" class="submitAnswersButton">送信</button>
  </form>


  <form id="Q10form" class="formQ10 form">
    <label for="userAnswer10">同じ方法で考えると正方形が4個の時どのような式で表せますか？:</label><br>
    <input type="text" id="userAnswer10" placeholder="解答を入力してください" required>
    <button id="Q10sbmitbutton">送信</button>
  </form>

  <form id="QSquareTableForm" class="formQ11 formQTable form">
    <table border="1" style="border-collapse: collapse; text-align: center;">
      <thead>
        <tr>
          <th>正方形の数 (こ)</th>
          <th>1</th>
          <th>2</th>
          <th>3</th>
          <th>4</th>
          <th>5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>マッチ棒の数 (本)</td>
          <td>
            <input type="text" id="userAnswerSq1" placeholder="" required>
          </td>
          <td>
            <input type="text" id="userAnswerSq2" placeholder="" required>
          </td>
          <td>
            <input type="text" id="userAnswerSq3" placeholder="" required>
          </td>
          <td>
            <input type="text" id="userAnswerSq4" placeholder="" required>
          </td>
          <td>
            <input type="text" id="userAnswerSq5" placeholder="" required>
          </td>
        </tr>
      </tbody>
    </table>
    <button id="QTableSubmitButton">送信</button>
  </form>

  <form id="Q12form" class="formQ12 form">
    <label for="userAnswer12">今日の感想を入力してください。:</label><br>
    <input type="text" id="userAnswer12" placeholder="感想を入力してください" required>
    <button id="Q12sbmitbutton">送信</button>
  </form>

  <button class="backButton">ひとつ前に戻る</button>

  <!--chatgptapi用の-->
  <form id="answer-form" class="formapi">
    <label for="apiUserAnswer">解答を入力してください:</label><br>
    <input type="text" id="apiUserAnswer" placeholder="解答を入力または音声で入力" required>
    <button id="apistart-voice1">発言する</button>
    <!--発言終了ボタンはいつかつくろう-->
    <!--<button id="apistop-voice1" type="button" disabled>発言を終了する</button>-->
    <div id="response"></div>
    <button type="submit" class="submit-button " value="button">送信</button>
  </form>

  <div class="hint hint1">
    <p>ヒント：図と文字を使って説明してみよう！！<br>※発言を送信すると同時にノートも送信されます</p>
  </div>
  <div class="hint" id="hint2">
    <p>Aさんは1+3nを図のように示してたよ</p>
    <img src="img/image2.jpg" alt="画像の説明" width="180" height="61">
  </div>
  <div class="hint" id="hint4">
    <p>Aさんがマッチ棒の数を1+3nと回答した時のAさんの書いた図
    </p>
    <img src="img/image2.jpg" alt="画像の説明" width="180" height="61">
    <p>Aさんの説明<br>「赤で囲んだ部分に1本のマッチ棒があって、3本のマッチ棒でできる青のコの字型の部分がn個だけあるから1+3nという式になりました」</p>
  </div>
  <div class="hint" id="hint8">
    <p>Aさんがマッチ棒の数を4+3(n-1)と回答した時のAさんの書いた図
    </p>
    <img src="img/image3.jpg" alt="画像の説明" width="180" height="61">
    <p>Aさんの説明<br>「赤で囲んだ部分に4本のマッチ棒があって、3本のマッチ棒でできる青のコの字型の部分がn-1個だけあるから4+3(n-1)という式になりました」</p>
  </div>
  <div class="hint" id="hint9">
    <p>Aさんは4+3(n-1)を図のように示してたよ</p>
    <img src="img/image3.jpg" alt="画像の説明" width="180" height="61">
  </div>
  <div class="hint" id="hint10">
    <p>Aさんがマッチ棒の数を4+3(n-1)と回答した時のAさんの書いた図
    </p>
    <img src="img/image3.jpg" alt="画像の説明" width="180" height="61">
    <p>Aさんの説明<br>「赤で囲んだ部分に4本のマッチ棒があって、3本のマッチ棒でできる青のコの字型の部分がn-1個だけあるから4+3(n-1)という式になりました」</p>
  </div>
  <!--キャンバス，黒板の要素の順番変えるとうまくいかないよ-->
  <div class="fullcanvas">
    <!--<button id="show-canvas-button" class="showCanvasBu
    ton">ノートを表示する</button>-->
    <!--画像のみを送信-->
    <button id="saveButton" class="saveButton">画像を提出する</button>
    <div class="wrapper">
      <div class="canvasbutton">
        <!-- 色選択 -->
        <!-- <label for="color-picker"></label> -->
        <select id="color-picker">
          <option value="black">黒</option>
          <option value="red">赤</option>
          <option value="blue">青</option>
        </select>
        <!-- 消去ボタン -->
        <button id="clear-button">消す</button>
      </div>
      <canvas class="canvas" id="drawing-area" width="1000" height="500"></canvas>

    </div>
  </div>

  <!--ノート-->
  <div class="note1">
    <div class="wrappernote">
      <div class="notebutton">
        <!-- 色選択 -->
        <select id="notecolor-picker">
          <option value="black">黒</option>
          <option value="red">赤</option>
          <option value="blue">青</option>
        </select>
        <!-- 消しゴムボタン -->
        <button id="noteeraser-button">消しゴム</button>
        <button id="prevpage-button">前のページ</button>
        <button id="nextpage-button">次のページ</button>
      </div>
      <canvas id="notedrawing-area-1" class="noteall" width="1000" height="1200" style="display:block;"></canvas>
      <canvas id="notedrawing-area-2" class="noteall" width="1000" height="1200" style="display:none;"></canvas>
      <canvas id="notedrawing-area-3" class="noteall" width="1000" height="1200" style="display:none;"></canvas>

    </div>
  </div>

  <!-- chat用 -->
  <div class="gwform">
    <div id="chatWindow">
      <div class="message assistant">
        Cさんの<br>「正方形はマッチ棒4本でできているから、4nという式をたてたけど、正方形が3個のときマッチ棒が12本必要ってことになっちゃって間違っている気がします。」<br>この発言について考えよう。
      </div>
    </div>
    <div class="input-container">
      <input type="text" id="userInput" placeholder="ここに入力してください">
      <button id="sendButton">送信</button>
    </div>
    <button class="endButton">グループワークを終わる</button>
  </div>

  <button id="redirectButton" class="snsbtn">「みんなの問題掲示板」<br>に移動する</button>

  <div>
    <p>いろんなところに飛べるボタン</p>
    <button class="skip30Button">グループワークへ</button>
    <button class="skip7Button">最初の立てた式をおしえるとこに</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
  <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@latest/dist/teachablemachine-image.min.js"></script>

  <script src="script.js"></script>

</body>

</html>